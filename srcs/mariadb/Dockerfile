FROM debian:bookworm
RUN apt-get update && \
    apt-get install -y mariadb-server && \
    rm -rf /var/lib/apt/lists/*
RUN mkdir -p /var/lib/mysql /var/run/mysqld && \
    chmod 777 /var/lib/mysql /run/mysqld
COPY tools/setup.sh /setup.sh
RUN chmod +x /setup.sh
EXPOSE 3306
ENTRYPOINT ["/setup.sh"]


#docker tem dois times
# Build time: docker build
# runtime: docker run
# build: construÃ§Ã£o da imagem, instalaÃ§Ã£o de dependÃªncias, configuraÃ§Ã£o do ambiente
# runtime: execuÃ§Ã£o do container, inicializaÃ§Ã£o do serviÃ§o, monitoramento do processo


#Dockerfile:
    #ğŸ‘‰ prepara a imagem â€œsem volumeâ€

#setup.sh:
    #ğŸ‘‰ corrige tudo que o volume pode estragar

#   docker build -t mariadb-custom
#lÃª o Dockerfile
#executa cada RUN
#cria a imagem final

#   docker images
#Ver imagens:

#   docker ps - Ver se o container estÃ¡ rodando
